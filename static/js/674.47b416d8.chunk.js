"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[674],{9355:function(e,t,n){n.d(t,{V:function(){return l}});var r=n(5861),a=n(5671),u=n(9466),i=n(4687),c=n.n(i),s=n(1243),o="83584156b00a2d23d72a1dbc78073946",h="https://api.themoviedb.org/3/",l=function(){function e(){(0,a.Z)(this,e),this._query="",this._movieId=null}return(0,u.Z)(e,[{key:"fetch",value:function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next="trending"===e.t0?4:"byQuery"===e.t0?8:"details"===e.t0?12:"credits"===e.t0?16:"reviews"===e.t0?20:24;break;case 4:return e.next=6,s.Z.get("".concat(h,"trending/movie/day?api_key=").concat(o,"&language=en-US"));case 6:case 10:case 22:return n=e.sent,e.abrupt("break",25);case 8:return e.next=10,s.Z.get("".concat(h,"search/movie?api_key=").concat(o,"&query=").concat(this._query,"&include_adult=false&language=en-US&page=1"));case 12:return e.next=14,s.Z.get("".concat(h,"movie/").concat(this._movieId,"?api_key=").concat(o,"&language=en-US"));case 14:return n=e.sent,e.abrupt("return",n.data);case 16:return e.next=18,s.Z.get("".concat(h,"movie/").concat(this._movieId,"/credits?api_key=").concat(o,"&language=en-US"));case 18:return n=e.sent,e.abrupt("return",n.data.cast);case 20:return e.next=22,s.Z.get("".concat(h,"movie/").concat(this._movieId,"/reviews?api_key=").concat(o,"&language=en-US&page=1"));case 24:return e.abrupt("return");case 25:return e.abrupt("return",n.data.results);case 28:throw e.prev=28,e.t1=e.catch(0),new Error("Something went wrong");case 31:case"end":return e.stop()}}),e,this,[[0,28]])})));return function(t){return e.apply(this,arguments)}}()},{key:"query",get:function(){return this._query},set:function(e){this._query=e}},{key:"movieId",get:function(){return this._movieId},set:function(e){this._movieId=e}}]),e}()},6674:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r,a,u,i=n(5861),c=n(9439),s=n(4687),o=n.n(s),h=n(2791),l=n(1087),p=n(4221),g=(n(1138),n(168)),d=n(7647),f=d.Z.input(r||(r=(0,g.Z)(["\n  width: 300px;\n  height: 30px;\n  border-radius: 8px;\n  font-size: 20px;\n"]))),v=d.Z.form(a||(a=(0,g.Z)(["\n  margin: 10px;\n"]))),y=d.Z.button(u||(u=(0,g.Z)(["\n  cursor: pointer;\n  height: 30px;\n  width: 70px;\n  margin-left: 5px;\n"]))),m=n(9355),x=n(8966),b=n(184),w=function(){return(0,b.jsx)("div",{children:(0,b.jsx)(x.Z1,{height:"100%",width:"100%",color:"#4fa94d",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"three-circles-rotating",outerCircleColor:"green",innerCircleColor:"blue",middleCircleColor:"tomato"})})},_=(0,h.lazy)((function(){return n.e(184).then(n.bind(n,9184))})),Z=new m.V,k=function(){var e=(0,h.useState)([]),t=(0,c.Z)(e,2),n=t[0],r=t[1],a=(0,l.lr)(),u=(0,c.Z)(a,2),s=u[0],g=u[1],d=(0,h.useState)(!1),m=(0,c.Z)(d,2),x=m[0],k=m[1],q=(0,h.useState)(null),S=(0,c.Z)(q,2),j=S[0],C=S[1];(0,h.useEffect)((function(){var e=function(){var e=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.get("query")){e.next=2;break}return e.abrupt("return");case 2:return k(!0),C(null),e.prev=4,Z.query=s.get("query"),e.next=8,Z.fetch("byQuery");case 8:0===(t=e.sent).length?C("Enter valid query"):r(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),C("Something went wrong");case 15:return e.prev=15,k(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,12,15,18]])})));return function(){return e.apply(this,arguments)}}();e()}),[s]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(v,{onSubmit:function(e){e.preventDefault(),s.get("query")?g({query:s.get("query")}):C("Enter something")},children:[(0,b.jsx)(f,{onChange:function(e){return g({query:e.target.value})},value:s.get("query")||""}),(0,b.jsx)(y,{type:"submit",children:"Search"})]}),x&&(0,b.jsx)(w,{}),j&&(0,b.jsx)("p",{children:"Oops, something went wrong"}),0!==n.length&&(0,b.jsx)(_,{movies:n}),(0,b.jsx)(p.mh,{})]})}}}]);
//# sourceMappingURL=674.47b416d8.chunk.js.map