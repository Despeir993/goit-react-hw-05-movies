{"version":3,"file":"static/js/622.c262804d.chunk.js","mappings":"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","sources":["Api.js","components/AdditionalInfo/AdditionalInfo.js","components/MovieInfo/MovieInfo.styled.js","components/MovieInfo/MovieInfo.js","pages/MovieDetails/MovieDetails.styled.js","pages/MovieDetails/MovieDetails.js"],"sourcesContent":["import axios from 'axios';\n\nconst KEY = '83584156b00a2d23d72a1dbc78073946';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport class Api {\n  constructor() {\n    this._query = '';\n    this._movieId = null;\n  }\n\n  async fetch(type) {\n    try {\n      let res;\n\n      switch (type) {\n        case 'trending':\n          res = await axios.get(\n            `${BASE_URL}trending/movie/day?api_key=${KEY}&language=en-US`\n          );\n          break;\n\n        case 'byQuery':\n          res = await axios.get(\n            `${BASE_URL}search/movie?api_key=${KEY}&query=${this._query}&include_adult=false&language=en-US&page=1`\n          );\n          break;\n\n        case 'details':\n          res = await axios.get(\n            `${BASE_URL}movie/${this._movieId}?api_key=${KEY}&language=en-US`\n          );\n          return res.data;\n\n        case 'credits':\n          res = await axios.get(\n            `${BASE_URL}movie/${this._movieId}/credits?api_key=${KEY}&language=en-US`\n          );\n          return res.data.cast;\n\n        case 'reviews':\n          res = await axios.get(\n            `${BASE_URL}movie/${this._movieId}/reviews?api_key=${KEY}&language=en-US&page=1`\n          );\n          break;\n\n        default:\n          return;\n      }\n\n      return res.data.results;\n    } catch (error) {\n      throw new Error('Something went wrong');\n    }\n  }\n\n  get query() {\n    return this._query;\n  }\n\n  set query(newQuery) {\n    this._query = newQuery;\n  }\n\n  get movieId() {\n    return this._movieId;\n  }\n\n  set movieId(id) {\n    this._movieId = id;\n  }\n}\n","import { Link } from 'react-router-dom';\n\nconst AdditionalInfo = () => {\n  return (\n    <>\n      <hr />\n      <p>Additional information</p>\n      <ul>\n        <li>\n          <Link to=\"cast\">Cast</Link>\n        </li>\n        <li>\n          <Link to=\"reviews\">Reviews</Link>\n        </li>\n      </ul>\n      <hr />\n    </>\n  );\n};\n\nexport default AdditionalInfo;\n","import styled from '@emotion/styled';\n\nexport const MovieInfoEl = styled.div`\n  width: 700px;\n`;\n","import PropTypes from 'prop-types';\nimport { MovieInfoEl } from './MovieInfo.styled';\n\nconst MovieInfo = ({ year, title, overview, genres, score }) => {\n  return (\n    <MovieInfoEl>\n      <h2>\n        {title} ({year})\n      </h2>\n      <p>User Score: {score}%</p>\n      <h3>Overview</h3>\n      <p>{overview}</p>\n      <h3>Genres</h3>\n      <p>{genres}</p>\n    </MovieInfoEl>\n  );\n};\n\nMovieInfo.propTypes = {\n  year: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  overview: PropTypes.string.isRequired,\n  genres: PropTypes.arrayOf(PropTypes.string).isRequired,\n  score: PropTypes.number.isRequired,\n};\n\nexport default MovieInfo;\n","import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const MovieDetailsEl = styled.div`\n  margin-left: 30px;\n`;\n\nexport const Img = styled.img`\n  width: 300px;\n  heigth: 450px;\n`;\n\nexport const StyledLink = styled(Link)`\n  margin: 15px 0;\n  display: block;\n`;\n\nexport const MainInfo = styled.div`\n  display: flex;\n  gap: 30px;\n`;\n","import { useEffect, useState, Suspense, useRef } from 'react';\nimport { useParams, useLocation, Outlet } from 'react-router-dom';\nimport { ThreeDots } from 'react-loader-spinner';\n\nimport AdditionalInfo from '../../components/AdditionalInfo';\nimport MovieInfo from '../../components/MovieInfo';\nimport { Api } from '../../Api';\n\nimport {\n  MovieDetailsEl,\n  Img,\n  StyledLink,\n  MainInfo,\n} from './MovieDetails.styled';\n\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/w500';\nconst DEFAULT_POSTER_URL =\n  'https://motivatevalmorgan.com/wp-content/uploads/2016/06/default-movie.jpg';\n\nconst api = new Api();\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState({\n    poster_path: '',\n    title: '',\n    release_date: '',\n    overview: '',\n    vote_average: 0,\n    genres: [],\n  });\n  const [showLoader, setShowLoader] = useState(true);\n\n  const { movieId } = useParams();\n\n  const { current } = useRef(useLocation());\n  const backLinkHref = current.state?.from ?? `/`;\n\n  useEffect(() => {\n    const fetchMovieDetails = async () => {\n      try {\n        setShowLoader(true);\n        api.movieId = movieId;\n        const res = await api.fetch('details');\n        setMovie(res);\n      } catch (error) {\n        console.error('Error fetching movie details:', error);\n      } finally {\n        setShowLoader(false);\n      }\n    };\n\n    fetchMovieDetails();\n  }, [movieId]);\n\n  const { poster_path, title, release_date, overview, genres, vote_average } =\n    movie;\n\n  const imgUrl = poster_path ? BASE_IMG_URL + poster_path : DEFAULT_POSTER_URL;\n  const year = release_date.slice(0, 4);\n  const parsedGenres = genres.map(genre => genre.name).join(', ');\n  const score = String(vote_average).slice(0, 3).replace('.', '');\n\n  return (\n    <>\n      <MovieDetailsEl>\n        <StyledLink to={backLinkHref}>Go back</StyledLink>\n\n        {showLoader ? (\n          <ThreeDots\n            color=\"#e75480\"\n            wrapperStyle={{ justifyContent: 'start' }}\n          />\n        ) : (\n          <>\n            <MainInfo>\n              <Img src={imgUrl} alt={title} />\n\n              <MovieInfo\n                year={year}\n                title={title}\n                overview={overview}\n                genres={parsedGenres}\n                score={score}\n              />\n            </MainInfo>\n\n            <AdditionalInfo />\n\n            <Suspense\n              fallback={\n                <ThreeDots\n                  color=\"#e75480\"\n                  wrapperStyle={{ justifyContent: 'start' }}\n                />\n              }\n            >\n              <Outlet />\n            </Suspense>\n          </>\n        )}\n      </MovieDetailsEl>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["KEY","BASE_URL","Api","this","_query","_movieId","type","axios","res","data","cast","results","Error","newQuery","id","to","MovieInfoEl","styled","year","title","overview","genres","score","MovieDetailsEl","Img","StyledLink","Link","MainInfo","api","useState","poster_path","release_date","vote_average","movie","setMovie","showLoader","setShowLoader","movieId","useParams","backLinkHref","useRef","useLocation","current","state","from","useEffect","fetchMovieDetails","fetch","console","error","imgUrl","slice","parsedGenres","map","genre","name","join","String","replace","color","wrapperStyle","justifyContent","src","alt","Suspense","fallback"],"sourceRoot":""}